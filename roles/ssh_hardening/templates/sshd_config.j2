# Managed by Ansible â€” SSH Hardening

Port {{ ssh_port }}
Protocol 2

PermitRootLogin {{ ssh_permit_root_login }}
PasswordAuthentication {{ ssh_password_authentication }}
ChallengeResponseAuthentication {{ ssh_challenge_response_authentication }}
UsePAM {{ ssh_use_pam }}

PubkeyAuthentication {{ ssh_pubkey_authentication }}

X11Forwarding {{ ssh_x11_forwarding }}
AllowTcpForwarding {{ ssh_tcp_forwarding }}
AllowAgentForwarding {{ ssh_agent_forwarding }}

MaxAuthTries {{ ssh_max_auth_tries }}
LoginGraceTime {{ ssh_login_grace_time }}
ClientAliveInterval {{ ssh_client_alive_interval }}
ClientAliveCountMax {{ ssh_client_alive_count_max }}

PrintMotd {{ ssh_print_motd }}
PrintLastLog {{ ssh_print_lastlog }}

{% if ssh_allow_users | length > 0 %}
AllowUsers {{ ssh_allow_users | join(' ') }}
{% endif %}

{% if ssh_allow_groups | length > 0 %}
AllowGroups {{ ssh_allow_groups | join(' ') }}
{% endif %}
